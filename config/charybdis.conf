# ============================================================================
# Global Charybdis ZMK Configuration (applies to both sides)
# ZMK version: main branch @ commit 4ec69cb7 (Zephyr 3.5.0)
# ============================================================================
# This file contains all available ZMK configuration options for reference.
# Options marked with DEFAULT are commented out (using default values).
# Options marked with CUSTOM are actively configured for this keyboard.
# ============================================================================

# ============================================================================
# SYSTEM CONFIGURATION
# ============================================================================

# Keyboard identification
# CONFIG_ZMK_KEYBOARD_NAME="Charybdis"  # DEFAULT (max 16 chars)
# Note: Changing this requires clearing settings (CONFIG_BT_DEVICE_NAME_DYNAMIC=y)

# Words Per Minute calculation
# CONFIG_ZMK_WPM=n  # DEFAULT

# Heap memory pool size
# CONFIG_HEAP_MEM_POOL_SIZE=8192  # DEFAULT (bytes)

# ============================================================================
# HID CONFIGURATION
# ============================================================================
# Note: Changes to HID settings require refreshing HID descriptor on host

# HID Indicators (LED state from host)
# CONFIG_ZMK_HID_INDICATORS=n  # DEFAULT

# Consumer key report size (simultaneous media keys)
# CONFIG_ZMK_HID_CONSUMER_REPORT_SIZE=6  # DEFAULT

# Modifier release behavior
# CONFIG_ZMK_HID_SEPARATE_MOD_RELEASE_REPORT=n  # DEFAULT

# Key rollover type (choose ONE, first is default if none selected)
# CONFIG_ZMK_HID_REPORT_TYPE_HKRO=y  # DEFAULT (6KRO by default)
# CONFIG_ZMK_HID_REPORT_TYPE_NKRO=n  # Full NKRO (may break some BIOS)

# HKRO configuration (if using HKRO)
# CONFIG_ZMK_HID_KEYBOARD_REPORT_SIZE=6  # DEFAULT (simultaneous keys)

# NKRO configuration (if using NKRO)
# CONFIG_ZMK_HID_KEYBOARD_NKRO_EXTENDED_REPORT=n  # DEFAULT (F13-F24, INTL1-8 support, breaks Android)

# Consumer key usage compatibility
# CONFIG_ZMK_HID_CONSUMER_REPORT_USAGES_FULL=y  # DEFAULT (all keys, may have OS issues)
# CONFIG_ZMK_HID_CONSUMER_REPORT_USAGES_BASIC=n  # Limited keys, better compatibility

# ============================================================================
# USB CONFIGURATION
# ============================================================================

# USB drivers
# CONFIG_USB=y  # Enabled automatically by board
# CONFIG_ZMK_USB=y  # Enabled automatically by board

# USB identification
# CONFIG_USB_DEVICE_VID=0x1D50  # DEFAULT (USB VID)
# CONFIG_USB_DEVICE_PID=0x615E  # DEFAULT (USB PID)
# CONFIG_USB_DEVICE_MANUFACTURER="ZMK Project"  # DEFAULT

# USB polling interval
# CONFIG_USB_HID_POLL_INTERVAL_MS=1  # DEFAULT (ms)

# USB Boot protocol support (required for Bitlocker, FileVault)
# CONFIG_ZMK_USB_BOOT=n  # DEFAULT

# USB initialization priority
# CONFIG_ZMK_USB_INIT_PRIORITY=50  # DEFAULT

# ============================================================================
# BLUETOOTH CONFIGURATION
# ============================================================================

# Bluetooth stack
# CONFIG_BT=y  # Enabled automatically by board
# CONFIG_ZMK_BLE=y  # Enabled automatically by board

# Battery reporting service
# CONFIG_BT_BAS=y  # DEFAULT

# Bluetooth connection limits
# CONFIG_BT_MAX_CONN=5  # DEFAULT (max simultaneous connections)
# CONFIG_BT_MAX_PAIRED=5  # DEFAULT (max paired devices)
# Note: For split keyboards, set both to (desired_profiles + 1) on central only

# BLE report queues
# CONFIG_ZMK_BLE_CONSUMER_REPORT_QUEUE_SIZE=5  # DEFAULT
# CONFIG_ZMK_BLE_KEYBOARD_REPORT_QUEUE_SIZE=20  # DEFAULT

# BLE initialization
# CONFIG_ZMK_BLE_INIT_PRIORITY=50  # DEFAULT
# CONFIG_ZMK_BLE_THREAD_PRIORITY=5  # DEFAULT
# CONFIG_ZMK_BLE_THREAD_STACK_SIZE=768  # DEFAULT

# BLE experimental features
# CONFIG_ZMK_BLE_EXPERIMENTAL_CONN=n  # DEFAULT (improved connection stability)
# CONFIG_ZMK_BLE_EXPERIMENTAL_SEC=n  # DEFAULT (passkey entry + overwrite paired keys)
# CONFIG_ZMK_BLE_EXPERIMENTAL_FEATURES=n  # DEFAULT (enables both above)

# BLE passkey entry (enhanced security)
# CONFIG_ZMK_BLE_PASSKEY_ENTRY=n  # DEFAULT (requires re-pairing after enable)

# GATT subscription enforcement (set to n for Windows battery bug workaround)
# CONFIG_BT_GATT_ENFORCE_SUBSCRIPTION=y  # DEFAULT

# Clear all bonds on startup
# CONFIG_ZMK_BLE_CLEAR_BONDS_ON_START=n  # DEFAULT

# Bluetooth connection parameters (CUSTOM - Level 1 Balanced)
CONFIG_BT_PERIPHERAL_PREF_MAX_INT=12  # CUSTOM (10ms interval, balanced latency)
CONFIG_BT_PERIPHERAL_PREF_LATENCY=16  # CUSTOM (slave latency)
CONFIG_BT_BUF_ACL_TX_COUNT=32  # CUSTOM (TX buffer count)
CONFIG_BT_L2CAP_TX_BUF_COUNT=32  # CUSTOM (L2CAP TX buffer count)

# Bluetooth transmit power (CUSTOM - Level 1 Balanced)
CONFIG_BT_CTLR_TX_PWR_PLUS_4=y  # CUSTOM (+4dBm, balanced range/power, 3-5m stable)

# ============================================================================
# BATTERY CONFIGURATION
# ============================================================================

# Battery reporting (implied by CONFIG_ZMK_BLE)
# CONFIG_ZMK_BATTERY_REPORTING=y  # DEFAULT (auto-enabled with BLE)
CONFIG_ZMK_BATTERY_REPORT_INTERVAL=120  # CUSTOM (2 minutes, reduced reporting frequency)

# Battery reporting on macOS (disable to prevent sleep wake)
# CONFIG_BT_BAS=y  # DEFAULT (set to n to disable battery reporting service)

# ============================================================================
# POWER MANAGEMENT CONFIGURATION
# ============================================================================

# Idle timeout
# CONFIG_ZMK_IDLE_TIMEOUT=30000  # DEFAULT (ms before idle)

# Deep sleep (CUSTOM - Level 1 Balanced)
CONFIG_ZMK_SLEEP=y  # CUSTOM (enable deep sleep for long-term power saving)
CONFIG_ZMK_IDLE_SLEEP_TIMEOUT=1800000  # CUSTOM (30 minutes before deep sleep)

# Soft off (requires hardware support)
# CONFIG_ZMK_PM_SOFT_OFF=n  # DEFAULT

# External power control (peripherals like displays, LEDs)
# CONFIG_ZMK_EXT_POWER=y  # DEFAULT

# ============================================================================
# SPLIT KEYBOARD CONFIGURATION
# ============================================================================

# Split keyboard support (auto-enabled by shield)
# CONFIG_ZMK_SPLIT=y  # Enabled automatically by charybdis shield

# Split role (set in shield-specific config files)
# CONFIG_ZMK_SPLIT_ROLE_CENTRAL=n  # DEFAULT (set in charybdis_right.conf)

# HID indicators for peripherals
# CONFIG_ZMK_SPLIT_PERIPHERAL_HID_INDICATORS=n  # DEFAULT

# --- Bluetooth Split Configuration ---

# BLE split transport (auto-enabled)
# CONFIG_ZMK_SPLIT_BLE=y  # DEFAULT (BLE split communication)

# Number of peripherals
# CONFIG_ZMK_SPLIT_BLE_CENTRAL_PERIPHERALS=1  # DEFAULT

# Peripheral battery monitoring
# CONFIG_ZMK_SPLIT_BLE_CENTRAL_BATTERY_LEVEL_FETCHING=n  # DEFAULT (fetch peripheral battery)
# CONFIG_ZMK_SPLIT_BLE_CENTRAL_BATTERY_LEVEL_PROXY=n  # DEFAULT (report peripheral battery to host)
# CONFIG_ZMK_SPLIT_BLE_CENTRAL_BATTERY_LEVEL_QUEUE_SIZE=1  # DEFAULT (matches peripheral count)

# Split event queues
# CONFIG_ZMK_SPLIT_BLE_CENTRAL_POSITION_QUEUE_SIZE=5  # DEFAULT (key state events)
# CONFIG_ZMK_SPLIT_BLE_CENTRAL_SPLIT_RUN_STACK_SIZE=512  # DEFAULT
# CONFIG_ZMK_SPLIT_BLE_CENTRAL_SPLIT_RUN_QUEUE_SIZE=5  # DEFAULT (behavior run events)

# Peripheral thread configuration
# CONFIG_ZMK_SPLIT_BLE_PERIPHERAL_STACK_SIZE=756  # DEFAULT
# CONFIG_ZMK_SPLIT_BLE_PERIPHERAL_PRIORITY=5  # DEFAULT
# CONFIG_ZMK_SPLIT_BLE_PERIPHERAL_POSITION_QUEUE_SIZE=10  # DEFAULT

# ============================================================================
# POINTING DEVICE CONFIGURATION (PMW3610 Trackball)
# ============================================================================

# Pointing device support (auto-enabled by charybdis_right shield)
# CONFIG_ZMK_POINTING=y  # Enabled automatically

# Smooth scrolling (HID Resolution Multipliers)
# CONFIG_ZMK_POINTING_SMOOTH_SCROLLING=n  # DEFAULT

# Input thread configuration
# CONFIG_INPUT_THREAD_STACK_SIZE=512  # DEFAULT (1024 on split peripherals)

# ============================================================================
# LOGGING CONFIGURATION
# ============================================================================

# USB CDC ACM logging (for debugging)
# CONFIG_ZMK_USB_LOGGING=n  # DEFAULT

# ZMK log level (0=OFF, 1=ERR, 2=WRN, 3=INF, 4=DBG)
# CONFIG_ZMK_LOG_LEVEL=4  # DEFAULT (change to 2 for production)

# ============================================================================
# BEHAVIOR CONFIGURATION
# ============================================================================

# Behavior queue size
# CONFIG_ZMK_BEHAVIORS_QUEUE_SIZE=64  # DEFAULT (max queued behaviors)

# Hold-tap configuration
# CONFIG_ZMK_BEHAVIOR_HOLD_TAP_MAX_HELD=10  # DEFAULT (simultaneous hold-taps)
# CONFIG_ZMK_BEHAVIOR_HOLD_TAP_MAX_CAPTURED_EVENTS=40  # DEFAULT (deferred events)

# Sticky key configuration
# CONFIG_ZMK_BEHAVIOR_STICKY_KEY_MAX_HELD=10  # DEFAULT (simultaneous sticky keys)

# Macro configuration
# CONFIG_ZMK_MACRO_DEFAULT_WAIT_MS=15  # DEFAULT (ms between macro actions)
# CONFIG_ZMK_MACRO_DEFAULT_TAP_MS=30  # DEFAULT (ms for tap duration)

# ============================================================================
# KEYBOARD SCAN (KSCAN) CONFIGURATION
# ============================================================================

# Kscan event queue
# CONFIG_ZMK_KSCAN_EVENT_QUEUE_SIZE=4  # DEFAULT

# Kscan initialization priority
# CONFIG_ZMK_KSCAN_INIT_PRIORITY=40  # DEFAULT

# Global debounce (overrides devicetree if set, -1=use devicetree)
# CONFIG_ZMK_KSCAN_DEBOUNCE_PRESS_MS=-1  # DEFAULT (use devicetree)
# CONFIG_ZMK_KSCAN_DEBOUNCE_RELEASE_MS=-1  # DEFAULT (use devicetree)

# Matrix-specific configuration
# CONFIG_ZMK_KSCAN_MATRIX_POLLING=n  # DEFAULT (use interrupts, not polling)
# CONFIG_ZMK_KSCAN_MATRIX_WAIT_BEFORE_INPUTS=0  # DEFAULT (ticks)
# CONFIG_ZMK_KSCAN_MATRIX_WAIT_BETWEEN_OUTPUTS=0  # DEFAULT (ticks)

# ============================================================================
# COMBO CONFIGURATION
# ============================================================================

# Maximum active combos
# CONFIG_ZMK_COMBO_MAX_PRESSED_COMBOS=4  # DEFAULT

# ============================================================================
# ENCODER CONFIGURATION
# ============================================================================

# EC11 encoder support
# CONFIG_EC11=n  # DEFAULT (enable if using rotary encoders)
# CONFIG_EC11_THREAD_PRIORITY=10  # DEFAULT
# CONFIG_EC11_THREAD_STACK_SIZE=1024  # DEFAULT

# EC11 trigger mode (choose ONE if EC11 enabled)
# CONFIG_EC11_TRIGGER_NONE=y  # DEFAULT (encoders disabled)
# CONFIG_EC11_TRIGGER_GLOBAL_THREAD=n  # Use global thread
# CONFIG_EC11_TRIGGER_OWN_THREAD=n  # Use dedicated thread

# ============================================================================
# DISPLAY CONFIGURATION
# ============================================================================

# Display support
# CONFIG_ZMK_DISPLAY=n  # DEFAULT

# Display behavior
# CONFIG_ZMK_DISPLAY_BLANK_ON_IDLE=y  # DEFAULT (if SSD1306)
# CONFIG_ZMK_DISPLAY_TICK_PERIOD_MS=10  # DEFAULT (ms between display updates)
# CONFIG_ZMK_DISPLAY_INVERT=n  # DEFAULT (white-on-black)

# Display widgets
# CONFIG_ZMK_WIDGET_LAYER_STATUS=y  # DEFAULT (show active layer)
# CONFIG_ZMK_WIDGET_BATTERY_STATUS=y  # DEFAULT (show battery)
# CONFIG_ZMK_WIDGET_BATTERY_STATUS_SHOW_PERCENTAGE=n  # DEFAULT (icons vs percentage)
# CONFIG_ZMK_WIDGET_OUTPUT_STATUS=y  # DEFAULT (show USB/BLE)
# CONFIG_ZMK_WIDGET_WPM_STATUS=n  # DEFAULT (show words per minute)

# Display status screen
# CONFIG_ZMK_DISPLAY_STATUS_SCREEN_BUILT_IN=y  # DEFAULT (use built-in screen)
# CONFIG_ZMK_DISPLAY_STATUS_SCREEN_CUSTOM=n  # Use custom screen

# Display work queue
# CONFIG_ZMK_DISPLAY_WORK_QUEUE_SYSTEM=y  # DEFAULT (system thread)
# CONFIG_ZMK_DISPLAY_WORK_QUEUE_DEDICATED=n  # Dedicated thread (for slow displays)

# Dedicated display thread configuration (if enabled)
# CONFIG_ZMK_DISPLAY_DEDICATED_THREAD_STACK_SIZE=2048  # DEFAULT
# CONFIG_ZMK_DISPLAY_DEDICATED_THREAD_PRIORITY=5  # DEFAULT

# ============================================================================
# RGB UNDERGLOW CONFIGURATION
# ============================================================================

# RGB underglow support
# CONFIG_ZMK_RGB_UNDERGLOW=n  # DEFAULT

# Underglow behavior
# CONFIG_ZMK_RGB_UNDERGLOW_EXT_POWER=y  # DEFAULT (toggle also controls ext power)
# CONFIG_ZMK_RGB_UNDERGLOW_AUTO_OFF_IDLE=n  # DEFAULT (turn off on idle)
# CONFIG_ZMK_RGB_UNDERGLOW_AUTO_OFF_USB=n  # DEFAULT (turn off when USB disconnected)

# Underglow adjustment steps
# CONFIG_ZMK_RGB_UNDERGLOW_HUE_STEP=10  # DEFAULT (degrees 0-359)
# CONFIG_ZMK_RGB_UNDERGLOW_SAT_STEP=10  # DEFAULT (percent)
# CONFIG_ZMK_RGB_UNDERGLOW_BRT_STEP=10  # DEFAULT (percent)

# Underglow defaults (saved to flash after first change)
# CONFIG_ZMK_RGB_UNDERGLOW_HUE_START=0  # DEFAULT (degrees 0-359)
# CONFIG_ZMK_RGB_UNDERGLOW_SAT_START=100  # DEFAULT (percent 0-100)
# CONFIG_ZMK_RGB_UNDERGLOW_BRT_START=100  # DEFAULT (percent 0-100)
# CONFIG_ZMK_RGB_UNDERGLOW_SPD_START=3  # DEFAULT (speed 1-5)
# CONFIG_ZMK_RGB_UNDERGLOW_EFF_START=0  # DEFAULT (0=solid, 1=breathe, 2=spectrum, 3=swirl)
# CONFIG_ZMK_RGB_UNDERGLOW_ON_START=y  # DEFAULT (on at startup)

# Underglow brightness limits
# CONFIG_ZMK_RGB_UNDERGLOW_BRT_MIN=0  # DEFAULT (percent 0-100)
# CONFIG_ZMK_RGB_UNDERGLOW_BRT_MAX=100  # DEFAULT (percent 0-100)

# ============================================================================
# BACKLIGHT CONFIGURATION
# ============================================================================

# Backlight support
# CONFIG_ZMK_BACKLIGHT=n  # DEFAULT

# Backlight behavior
# CONFIG_ZMK_BACKLIGHT_BRT_STEP=20  # DEFAULT (percent)
# CONFIG_ZMK_BACKLIGHT_BRT_START=40  # DEFAULT (percent)
# CONFIG_ZMK_BACKLIGHT_ON_START=y  # DEFAULT (on at startup)
# CONFIG_ZMK_BACKLIGHT_AUTO_OFF_IDLE=n  # DEFAULT (turn off on idle)
# CONFIG_ZMK_BACKLIGHT_AUTO_OFF_USB=n  # DEFAULT (turn off when USB disconnected)

# ============================================================================
# ZMK STUDIO CONFIGURATION (Runtime Keymap Editor)
# ============================================================================

# ZMK Studio support (CUSTOM)
CONFIG_ZMK_STUDIO=y  # CUSTOM (enable ZMK Studio)
CONFIG_ZMK_STUDIO_LOCKING=n  # CUSTOM (disable automatic locking)

# Layer name length
# CONFIG_ZMK_KEYMAP_LAYER_NAME_MAX_LEN=20  # DEFAULT (max chars)

# Studio locking configuration (if enabled)
# CONFIG_ZMK_STUDIO_LOCK_IDLE_TIMEOUT_SEC=500  # DEFAULT (seconds)
# CONFIG_ZMK_STUDIO_LOCK_ON_DISCONNECT=y  # DEFAULT (auto-lock on disconnect)

# Studio transport/protocol
# CONFIG_ZMK_STUDIO_TRANSPORT_BLE_PREF_LATENCY=10  # DEFAULT (lower latency while active)
# CONFIG_ZMK_STUDIO_RPC_THREAD_STACK_SIZE=1800  # DEFAULT
# CONFIG_ZMK_STUDIO_RPC_RX_BUF_SIZE=30  # DEFAULT (bytes)
# CONFIG_ZMK_STUDIO_RPC_TX_BUF_SIZE=64  # DEFAULT (bytes)

# ============================================================================
# SETTINGS (PERSISTENT STORAGE) CONFIGURATION
# ============================================================================

# Settings reset on startup
# CONFIG_ZMK_SETTINGS_RESET_ON_START=n  # DEFAULT (set to y to clear all settings)

# Settings save debounce (delay before writing to flash)
# CONFIG_ZMK_SETTINGS_SAVE_DEBOUNCE=60000  # DEFAULT (ms, 1 minute)

# ============================================================================
# END OF CONFIGURATION
# ============================================================================
